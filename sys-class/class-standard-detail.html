<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>金视野系统模板</title>
    <meta name="keywords" content="金视野,教育,平台" />
    <meta name="description" content="金视野开发部,模板,2017" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- basic styles -->

    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/font-awesome.min.css" />

    <!--[if IE 7]>
		  <link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
	<![endif]-->

    <!-- page specific plugin styles -->
    <!-- <link rel="stylesheet" href="static/vendor/datepicker/bootstrap-datepicker.min.css"> -->

    <!-- fonts -->

    <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" /> -->

    <!-- ace styles -->

    <link rel="stylesheet" href="assets/css/ace.min.css" />
    <link rel="stylesheet" href="assets/css/ace-rtl.min.css" />
    <link rel="stylesheet" href="assets/css/ace-skins.min.css" />

    <!--[if lte IE 8]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
	<![endif]-->

    <!-- inline styles related to this page -->
    <link rel="stylesheet" href="static/css/styles-class.css">

    <!-- ace settings handler -->

    <script src="assets/js/ace-extra.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!--[if lt IE 9]>
		<script src="assets/js/html5shiv.js"></script>
		<script src="assets/js/respond.min.js"></script>
	<![endif]-->

</head>

<body>


    <div class="main-container" id="main-container">
        <script type="text/javascript">
            try { ace.settings.check('main-container', 'fixed') } catch (e) { }
        </script>

        <div class="main-container-inner">


            <div class="main-content" style="margin-left: 0px;">

                <!-- 面包屑导航 -->
                <div class="breadcrumbs " id="breadcrumbs">
                    <script type="text/javascript">
                        try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
                    </script>
                    <!--位置-->
                    <ul class="breadcrumb">
                        <li>
                            <i class="icon-home home-icon"></i>
                            <a href="jsywebindex.html">首页</a>
                        </li>
                        <li>
                            <a href="class-index.html">班级管理</a>
                        </li>
                        <li class="active">班级记事</li>
                    </ul>
                    <ul class="breadcrumb pull-right navright">
                        <li>
                            <i class="icon-share-alt icon-color"></i>
                            <a href="javascript:history.go(-1);">返回</a>
                        </li>
                    </ul>
                </div>

                <div class="page-content" style="padding-top: 20px;">

                    <!-- /.page-header -->
                    <div class="row">
                        <div class="col-xs-12">

                            <!-- PAGE CONTENT BEGINS -->

                            <div class="head-title">量化指标</div>

                            <div class="content-table-box standar-detail committee">

                                <div class="row standar-detail-title">
                                    <div class="col-xs-6 form-group">
                                        <label class="border-left-blue">量化指标名称：</label>
                                        <input type="text" value="XX学校学生量化指标标准1">
                                    </div>
                                    <div class="col-xs-6 text-right">
                                        <a href="#" class="btn btn-primary btn-sm">
                                            <i class="icon-save"></i> 保存
                                        </a>
                                    </div>
                                </div>

                                <div class="row">
                                    <div class="col-sm-6">
                                        <div class="content-tab-title">考勤*行为</div>
                                        <table class="staff-table table-hover table-edit" id="table1">
                                            <colgroup>
                                                <col style="width: 12%;">
                                                <col style="width: 22%;">
                                                <col style="width: 22%;">
                                                <col style="width: 22%;">
                                                <col style="width: 22%;">
                                            </colgroup>
                                            <thead>
                                                <tr>
                                                    <th>序号</th>
                                                    <th>类型</th>
                                                    <th>量化指标</th>
                                                    <th>加减法（没次）</th>
                                                    <th>操作</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr class="empty-notice"><td colspan="5">没有记录</td></tr>
                                                <tr>
                                                    <td>1</td>
                                                    <td>考勤</td>
                                                    <td>迟到</td>
                                                    <td>-3</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>行为</td>
                                                    <td>旷课</td>
                                                    <td>-5</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>行为</td>
                                                    <td>上课讲话</td>
                                                    <td>-5</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>行为</td>
                                                    <td>损坏公物</td>
                                                    <td>-5</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <button class="btn btn-primary btn-xs" id="addTable1">
                                            <i class="icon-plus"> 添加</i>
                                        </button>
                                    </div>

                                    <div class="col-sm-6">
                                        <div class="content-tab-title">考评等级</div>
                                        <table class="staff-table table-hover table-edit" id="table2">
                                            <colgroup>
                                                <col style="width: 12%;">
                                                <col style="width: 33%;">
                                                <col style="width: 33%;">
                                                <col style="width: 22%;">
                                            </colgroup>
                                            <thead>
                                                <tr>
                                                    <th>序号</th>
                                                    <th>考评等级</th>
                                                    <th>对应量化考评得分</th>
                                                    <th>操作</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <td>1</td>
                                                    <td>优秀</td>
                                                    <td>95-99</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>2</td>
                                                    <td>良好</td>
                                                    <td>80-94</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>3</td>
                                                    <td>合格</td>
                                                    <td>60-79</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>4</td>
                                                    <td>不合格</td>
                                                    <td>0-60</td>
                                                    <td>
                                                        <span class="action-buttons">
                                                            <a href="#" class="edit">
                                                                <i class="icon-pencil green"></i>
                                                            </a>
                                                            <a href="static/data/ajax-btn.json" class="delete">
                                                                <i class="icon-trash red"></i>
                                                            </a>
                                                        </span>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                        <button class="btn btn-primary btn-xs" id="addTable2">
                                            <i class="icon-plus"> 添加</i>
                                        </button>
                                    </div>
                                </div>

                            </div>


                            <!-- PAGE CONTENT ENDS -->

                        </div>

                    </div>

                    <!-- /.col -->
                </div>
                <!-- /.page-content -->
            </div>
            <!-- /.main-content -->

            <!-- /#ace-settings-container -->
        </div>
        <!-- /.main-container-inner -->
    </div>
    <!-- /.main-container -->

    <script type="text/html" id="template1">
        <tr>
            <td>{{= num}}</td>
            <td>
                <select name="cate">
                    {{each cate}}
                    <option value="${$value.val}" {{if $value.isSelected}} selected {{/if}}>${$value.name}</option>
                    {{/each}}
                </select>
            </td>
            <td>
                <select name="kind">
                    {{each kind}}
                    <option value="${$value.val}" {{if $value.isSelected}} selected {{/if}}>${$value.name}</option>
                    {{/each}}
                </select>
            </td>
            <td>
                <select name="score">
                    {{each score}}
                    <option value="${$value.val}" {{if $value.isSelected}} selected {{/if}}>${$value.name}</option>
                    {{/each}}
                </select>
            </td>
            <td>
                <span class="action-buttons">
                    <a href="http://192.168.0.110:8001/savetabe" class="save">
                        <i class="icon-ok green"></i>
                    </a>
                    <a href="#" {{if isEdit}} class="return" {{else}} class="cancel" {{/if}}>
                        <i class="icon-remove red"></i>
                    </a>
                </span>
            </td>
        </tr>
    </script>

    <script type="text/html" id="template2">
        <tr>
            <td>{{= num}}</td>
            <td>
                <input name="grade" value="{{= grade}}">
            </td>
            <td class="range">
                <input name="score1" value="{{= score1}}" verify-number="请输入正确评分"> - 
                <input name="score2" value="{{= score2}}" verify-number="请输入正确评分">
            </td>
            <td>
                <span class="action-buttons">
                    <a href="http://192.168.0.110:8001/savetabe" class="save">
                        <i class="icon-ok green"></i>
                    </a>
                    <a href="#" {{if isEdit}} class="return" {{else}} class="cancel" {{/if}}>
                        <i class="icon-remove red"></i>
                    </a>
                </span>
            </td>
        </tr>
    </script>

    <!-- basic scripts -->

    <!--[if !IE]> -->

    <!---->

    <!-- <![endif]-->

    <!--[if IE]>

<![endif]-->

    <!--[if !IE]> -->

    <script type="text/javascript">
        window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>" + "<" + "/script>");
    </script>

    <!-- <![endif]-->

    <!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

    <script type="text/javascript">
        if ("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
    </script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/typeahead-bs2.min.js"></script>

    <!-- page specific plugin scripts -->
    <!-- <script src="static/vendor/datepicker/bootstrap-datepicker.min.js"></script> -->

    <!-- ace scripts -->

    <script src="assets/js/ace-elements.min.js"></script>
    <script src="assets/js/ace.min.js"></script>


    <!-- inline scripts related to this page -->
    <!-- <div style="display: none">
        <script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script>
    </div> -->

    <script src="static/js/common-class.js"></script>

    <script>
    var init_data = {
        num: "",
        cate: [
            {"val": "v1", "name": "考勤"},
            {"val": "v2", "name": "行为"}
        ],
        kind: [
            {"val": "v1", "name": "迟到"},
            {"val": "v2", "name": "早退"},
            {"val": "v1", "name": "旷课"}
        ],
        score: [
            {"val": "v1", "name": "-1"},
            {"val": "v2", "name": "-3"},
            {"val": "v1", "name": "-5"}
        ],
        "isEdit": false
    }

    $("#table1").editTable({
        addBtn: "#addTable1", //添加按钮
        temp: "#template1", //编辑 模板
        initData: init_data, //初始数据，添加时的模板数据
        isOrder: true
    })
    .on("editRow", function(e, thisTr, texts, editeCallback){ // thisTr当前行，texts当前行文本数组，editeCallback回调 进入编辑状态
        // 编辑状态的数据
        var data = {};
        data["num"] = texts[0];
        data["cate"] = [];
        data["kind"] = [];
        data["score"] = [];
        data["isEdit"] = true;
        // 为选择框赋值
        init_data.cate.forEach(function(v){
            data.cate.push({
                "val": v.val,
                "name": v.name,
                "isSelected": v.name==texts[1]
            });
        });
        init_data.kind.forEach(function(v){
            data.kind.push({
                "val": v.val,
                "name": v.name,
                "isSelected": v.name==texts[2]
            });
        });
        init_data.score.forEach(function(v){
            data.score.push({
                "val": v.val,
                "name": v.name,
                "isSelected": v.name==texts[3]
            });
        });
        var temp = $('#template1').tmpl(data);
        //thisTr:当前行; temp:编辑的模板HTML元素或jq对象
        editeCallback(thisTr, temp); 
    });


    var init_data2 = {
        num: "",
        grade: "",
        score1: "",
        score2: "",
        isEdit: false
    }
    $("#table2").editTable({
        addBtn: "#addTable2", //添加按钮
        temp: "#template2", //编辑 模板
        initData: init_data2, //初始数据，添加时的模板数据
        isOrder: true
    })
    .on("editRow", function(e, thisTr, texts, editeCallback){ // thisTr当前行，texts当前行文本数组，editeCallback回调 进入编辑状态
        // 编辑状态的数据
        var data = {};
        data["num"] = texts[0];
        data["grade"] = texts[1];
        data["score1"] = texts[2].split("-").shift();
        data["score2"] = texts[2].split("-").pop();
        data["isEdit"] = true;
        
        var temp = $('#template2').tmpl(data);
        //thisTr:当前行; temp:编辑的模板HTML元素或jq对象
        editeCallback(thisTr, temp); 
    });

    </script>
</body>

</html>