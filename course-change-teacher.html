<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>任课老师调整 - 金视野系统模板</title>
    <meta name="keywords" content="金视野,教育,平台" />
    <meta name="description" content="金视野开发部,模板,2017" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- basic styles -->

    <link href="assets/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="assets/css/font-awesome.min.css" />

    <!--[if IE 7]>
		  <link rel="stylesheet" href="assets/css/font-awesome-ie7.min.css" />
	<![endif]-->

    <!-- page specific plugin styles -->
    <link rel="stylesheet" href="assets/css/jquery-ui-1.10.3.custom.min.css">

    <!-- fonts -->

    <!-- <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:400,300" /> -->

    <!-- ace styles -->

    <link rel="stylesheet" href="assets/css/ace.min.css" />
    <link rel="stylesheet" href="assets/css/ace-rtl.min.css" />
    <link rel="stylesheet" href="assets/css/ace-skins.min.css" />

    <!--[if lte IE 8]>
		  <link rel="stylesheet" href="assets/css/ace-ie.min.css" />
	<![endif]-->

    <!-- inline styles related to this page -->
    <link rel="stylesheet" href="static/css/course-styles.css">

    <!-- ace settings handler -->

    <script src="assets/js/ace-extra.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->

    <!--[if lt IE 9]>
		<script src="assets/js/html5shiv.js"></script>
		<script src="assets/js/respond.min.js"></script>
	<![endif]-->

</head>

<body>


    <div class="main-container" id="main-container">
        <script type="text/javascript">
            try { ace.settings.check('main-container', 'fixed') } catch (e) { }
        </script>

        <div class="main-container-inner">


            <div class="main-content" style="margin-left: 0px;">

                <!-- 面包屑导航 -->
                <div class="breadcrumbs " id="breadcrumbs">
                    <script type="text/javascript">
                        try { ace.settings.check('breadcrumbs', 'fixed') } catch (e) { }
                    </script>
                    <!--位置-->
                    <ul class="breadcrumb">
                        <li>
                            <i class="icon-home home-icon"></i>
                            <a href="index.html">首页</a>
                        </li>
                        <li>
                            <a href="#">排课系统</a>
                        </li>
                        <li class="active">任课老师调整</li>
                    </ul>
                    <ul class="breadcrumb pull-right navright">
                        <li>
                            <i class="icon-share-alt icon-color"></i>
                            <a href="javascript:history.go(-1);">返回</a>
                        </li>
                    </ul>
                </div>

                <div class="page-content" style="padding-top: 20px;">

                    <!-- /.page-header -->
                    <div class="row">
                        <div class="col-xs-12">

                            <!-- PAGE CONTENT BEGINS -->


                            <div class="head-tab clearfix">
                                <div class="pull-left">
                                    <h3>任课老师调整</h3>
                                </div>
                                <div class="pull-right">
                                    <button class="btn btn-primary btn-sm" onclick="getTableValues()" data-toggle="modal" data-target="#m-tip">保存</button>
                                </div>
                            </div>

                            <div class="clearfix margin-bottom-10">
                                <div class="pull-left">现请管理员在基础信息子系统中调整班级任课教师信息</div>
                                <div class="pull-right">
                                    <button class="btn btn-primary btn-xs table-add">添加</button>
                                    <button class="btn btn-primary btn-xs">开始调整</button>
                                </div>
                            </div>
                            
                            <table id="table-change-teacher" class="table table-bordered table-hover">
                                <thead>
                                    <tr>
                                        <th rowspan="2">年级</th>
                                        <th rowspan="2">班级</th>
                                        <th colspan="2">原任课教师</th>
                                        <th rowspan="2">调整后任课教师</th>
                                        <th rowspan="2"></th>
                                    </tr>
                                    <tr>
                                        <th>姓名</th>
                                        <th>科目</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <select name="">
                                                <option value="">初一</option>
                                                <option value="">初二</option>
                                                <option value="">初三</option>
                                            </select>
                                        </td>
                                        <td>
                                            <select name="">
                                                <option value="">1班</option>
                                                <option value="">2班</option>
                                                <option value="">3班</option>
                                            </select>
                                        </td>
                                        <td>
                                            <select name="">
                                                <option value="">张三</option>
                                                <option value="">李四</option>
                                                <option value="">王五</option>
                                            </select>
                                        </td>
                                        <td>
                                            <select name="">
                                                <option value="">语文</option>
                                                <option value="">数学</option>
                                                <option value="">英语</option>
                                            </select>
                                        </td>
                                        <td>
                                            <select name="">
                                                <option value="">张三</option>
                                                <option value="">李四</option>
                                                <option value="">王五</option>
                                            </select>
                                        </td>
                                        <td class="action-buttons">
                                            <a href="">
                                                <i class="icon-trash red bigger-125"></i>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>

                            <div class="alert alert-success inline-block">
                                <button type="button" class="close" data-dismiss="alert">
                                    <i class="icon-remove"></i>
                                </button>
                                 提示： 恭喜您，调整完毕，没有发现冲突。
                            </div>
                            <br>
                            <div class="alert alert-warning inline-block">
                                <button type="button" class="close" data-dismiss="alert">
                                    <i class="icon-remove"></i>
                                </button>
                                 提示： 很遗憾，发现冲突，请在下方的班级课表中手动调整。
                            </div>

                            
                            <div class="clearfix">
                                <p class="pull-left">有冲突的班级：</p>
                                <div class="pull-right">
                                    <span class="tip-square" style="background-color:#FFCCCC;"></span>冲突节次
                                    <span class="tip-square" style="background-color:#FD9EFD;"></span>可调节次
                                    <span class="tip-square" style="background-color:#EFD753;"></span>当前节次
                                </div>
                            </div>
                            
                            <div class="cus-outter-box margin-bottom-30">
                                <p class="table-title">初一（1）班 的课表</p>
                                <div id="table1" class="fix-table-box dragTable cus-table-box show-msg clearfix class-table">
                                    <table class="fix-list cus-table table-striped">
                                        <thead>
                                            <tr>
                                                <th>缓冲区</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="table-box">
                                        <table id="cus-table" class="cus-table table-striped">
                                            <thead>
                                                <tr>
                                                    <th></th>
                                                    <th>星期一</th>
                                                    <th>星期二</th>
                                                    <th>星期三</th>
                                                    <th>星期四</th>
                                                    <th>星期五</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <th>1</th>
                                                    <td data-key="1-1" class="cell-bug">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-1">
                                                        <div class="val" data-val="{s:'语',t:'1'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-1" class="cell-bug">
                                                        <div class="val" data-val="{s:'语',t:'2'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-1">
                                                        <div class="val" data-val="{s:'语',t:'3'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-1">
                                                        <div class="val" data-val="{s:'语',t:'4'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>2</th>
                                                    <td data-key="1-2">
                                                        <div class="val" data-val="{s:'语',t:'5'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-2">
                                                        <div class="val" data-val="{s:'语',t:'6'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-2">
                                                        <div class="val" data-val="{s:'语',t:'7'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-2">
                                                        <div class="val" data-val="{s:'语',t:'8'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-2">
                                                        <div class="val" data-val="{s:'语',t:'9'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>3</th>
                                                    <td data-key="1-3">
                                                        <div class="val" data-val="{s:'语',t:'10'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>4</th>
                                                    <td data-key="1-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>5</th>
                                                    <td data-key="1-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>6</th>
                                                    <td data-key="1-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>7</th>
                                                    <td data-key="1-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">体育
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">思想品德
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">思想品德
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                
                                    <div class="table-alert alert alert-warning">
                                        <button type="button" class="close">
                                            <i class="icon-remove"></i>
                                        </button>
                                        <span class="text">提示信息</span>
                                    </div>
                                </div>
                            </div>

                            <div class="cus-outter-box">
                                <p class="table-title">初一（2）班 的课表</p>
                                <div id="table2" class="fix-table-box dragTable cus-table-box show-msg clearfix class-table">
                                    <table class="fix-list cus-table table-striped">
                                        <thead>
                                            <tr>
                                                <th>缓冲区</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td class="cache">
                                                    <div class="val"></div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <div class="table-box">
                                        <table id="cus-table" class="cus-table table-striped">
                                            <thead>
                                                <tr>
                                                    <th></th>
                                                    <th>星期一</th>
                                                    <th>星期二</th>
                                                    <th>星期三</th>
                                                    <th>星期四</th>
                                                    <th>星期五</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <tr>
                                                    <th>1</th>
                                                    <td data-key="1-1" class="cell-bug">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-1">
                                                        <div class="val" data-val="{s:'语',t:'1'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-1" class="cell-bug">
                                                        <div class="val" data-val="{s:'语',t:'2'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-1">
                                                        <div class="val" data-val="{s:'语',t:'3'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-1">
                                                        <div class="val" data-val="{s:'语',t:'4'}">数学
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>2</th>
                                                    <td data-key="1-2">
                                                        <div class="val" data-val="{s:'语',t:'5'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-2">
                                                        <div class="val" data-val="{s:'语',t:'6'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-2">
                                                        <div class="val" data-val="{s:'语',t:'7'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-2">
                                                        <div class="val" data-val="{s:'语',t:'8'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-2">
                                                        <div class="val" data-val="{s:'语',t:'9'}">语文
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>3</th>
                                                    <td data-key="1-3">
                                                        <div class="val" data-val="{s:'语',t:'10'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-3">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">英语
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>4</th>
                                                    <td data-key="1-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-4">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">数
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>5</th>
                                                    <td data-key="1-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-5">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>6</th>
                                                    <td data-key="1-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">物理
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-6">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <th>7</th>
                                                    <td data-key="1-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="2-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">历史
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="3-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">体育
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="4-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">思想品德
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                    <td data-key="5-7">
                                                        <div class="val" data-val="{s:'语',t:'李白'}">思想品德
                                                            <div class="tip">李晓光</div>
                                                        </div>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                
                                    <div class="table-alert alert alert-warning">
                                        <button type="button" class="close">
                                            <i class="icon-remove"></i>
                                        </button>
                                        <span class="text">提示信息</span>
                                    </div>
                                </div>
                            </div>
                           
                            

                            <!-- PAGE CONTENT ENDS -->

                        </div>

                    </div>

                    <!-- /.col -->
                </div>
                <!-- /.page-content -->
            </div>
            <!-- /.main-content -->

            <!-- /#ace-settings-container -->
        </div>
        <!-- /.main-container-inner -->
    </div>
    <!-- /.main-container -->


    <div class="modal" id="m-tip" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <form action="" method="" class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">提示</h4>
                </div>
                <div class="modal-body">
                    <p class="text-center">
                        <i class="icon-ok-sign bigger-125 green margin-right-5"></i>保存成功，您可以到本学期课表中查看最新课表
                    </p>
                    <p class="text-center">
                        <i class="icon-info-sign bigger-125 orange margin-right-5"></i>课表还存在冲突，请您继续手动调整
                    </p>
                </div>
                <div class="modal-footer text-center margin-top-0">
                    <button type="button" class="btn btn-primary btn-xs" data-dismiss="modal">确定</button>
                </div>
            </form>
        </div>
    </div>


    <!-- basic scripts -->

    <!--[if !IE]> -->

    <!---->

    <!-- <![endif]-->

    <!--[if IE]>

<![endif]-->

    <!--[if !IE]> -->

    <script type="text/javascript">
        window.jQuery || document.write("<script src='assets/js/jquery-2.0.3.min.js'>" + "<" + "/script>");
    </script>

    <!-- <![endif]-->

    <!--[if IE]>
<script type="text/javascript">
 window.jQuery || document.write("<script src='assets/js/jquery-1.10.2.min.js'>"+"<"+"/script>");
</script>
<![endif]-->

    <script type="text/javascript">
        if ("ontouchend" in document) document.write("<script src='assets/js/jquery.mobile.custom.min.js'>" + "<" + "/script>");
    </script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/typeahead-bs2.min.js"></script>

    <!-- page specific plugin scripts -->
    <script src="assets/js/jquery-ui-1.10.3.custom.min.js"></script>

    <!-- ace scripts -->

    <script src="assets/js/ace-elements.min.js"></script>
    <script src="assets/js/ace.min.js"></script>


    <!-- inline scripts related to this page -->
    <!-- <div style="display: none">
        <script src='http://v7.cnzz.com/stat.php?id=155540&web_id=155540' language='JavaScript' charset='gb2312'></script>
    </div> -->

    <!-- <script src="static/js/common.js"></script> -->
    <script src="static/js/course-common.js"></script>

    <script>

        var trHtml = '<tr>'+
                        '<td>' +
                            '<select name="">'+
                                '<option value="">初一</option>' +
                                '<option value="">初二</option>' +
                                '<option value="">初三</option>' +
                            '</select>' +
                        '</td>' +
                        '<td>' +
                            '<select name="">' +
                                '<option value="">1班</option>' +
                                '<option value="">2班</option>' +
                                '<option value="">3班</option>' +
                            '</select>' +
                        '</td>' +
                        '<td>' +
                            '<select name="">' +
                                '<option value="">张三</option>' +
                                '<option value="">李四</option>' +
                                '<option value="">王五</option>' +
                            '</select>' +
                        '</td>' +
                        '<td>' +
                            '<select name="">' +
                                '<option value="">语文</option>' +
                                '<option value="">数学</option>' +
                                '<option value="">英语</option>' +
                            '</select>' +
                        '</td>' +
                        '<td>' +
                            '<select name="">' +
                                '<option value="">张三</option>' +
                                '<option value="">李四</option>' +
                                '<option value="">王五</option>' +
                            '</select>' +
                        '</td>' +
                        '<td class="action-buttons">' +
                            '<a href="javascript:;" onclick="removeTr(this)">' +
                                '<i class="icon-trash red bigger-125"></i>'+
                            '</a>' +
                        '</td>' +
                    '</tr>';

        $('.table-add').click(function(){
            $('#table-change-teacher').find('tbody').append(trHtml);
        });

        function removeTr(btn) {
            $(btn).parents('tr').remove();
        }

        // 可拖拽表
        var dtable1 = $("#table1").dragTableCell();

        var lastData = {};
        dtable1.on("startDragging", function (event, curCell, allCells) {
            // curCell被拖拽元素，allCells所有元素
            //完成上一个移动或交换
            if (dtable1.lastDone) {
                console.log("send ajax");
                var curVal = dtable1.getValues(curCell),
                    allVals = dtable1.getValues(allCells);
                $.ajax({
                    url: "static/data/course-accept.json",
                    type: "GET",
                    data: { cur: curVal, all: allVals },
                    success: function (result) {
                        lastData = result;
                        var ek = result.enableKey, dr = result.disableReason;
                        dtable1.render(ek, dr);
                    },
                    error: function (xhr, status, error) {
                        console.log(xhr, status, error);
                    }
                });
            } else { //未完成上一个移动或交换
                console.log("no ajax");
                var ek = lastData.enableKey, dr = lastData.disableReason;
                dtable1.render(ek, dr);
            }

        });

         var dtable2 = $("#table2").dragTableCell();

        var lastData = {};
        dtable2.on("startDragging", function (event, curCell, allCells) {
            // curCell被拖拽元素，allCells所有元素
            //完成上一个移动或交换
            if (dtable2.lastDone) {
                console.log("send ajax");
                var curVal = dtable2.getValues(curCell),
                    allVals = dtable2.getValues(allCells);
                $.ajax({
                    url: "static/data/course-accept.json",
                    type: "GET",
                    data: { cur: curVal, all: allVals },
                    success: function (result) {
                        lastData = result;
                        var ek = result.enableKey, dr = result.disableReason;
                        dtable2.render(ek, dr);
                    },
                    error: function (xhr, status, error) {
                        console.log(xhr, status, error);
                    }
                });
            } else { //未完成上一个移动或交换
                console.log("no ajax");
                var ek = lastData.enableKey, dr = lastData.disableReason;
                dtable2.render(ek, dr);
            }

        });

        // 获取最终值
        function getTableValues() {
            var values = {};
            values['table1'] = dtable1.getValues();
            values['table2'] = dtable2.getValues();
            console.log(values);
        }

    </script>

</body>

</html>